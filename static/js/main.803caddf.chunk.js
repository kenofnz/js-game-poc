(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],{13:function(n,t,a){n.exports=a(28)},18:function(n,t,a){},27:function(n,t,a){},28:function(n,t,a){"use strict";a.r(t);var e=a(2),o=a.n(e),i=a(11),r=a.n(i),c=(a(18),a(0)),d=a(3),s=(a(27),function(n){return Object(d.map)(n.layers,(function(t){return Array.from({length:n.height}).map((function(a,e){return t.data.slice(e*n.width,(e+1)*n.width)})).map((function(t,a){return t.map((function(t,e){return{id:"".concat(a,"_").concat(e),tileId:t,x:n.tilewidth*e,y:n.tileheight*a,width:n.tilewidth,height:n.tileheight}}))})).reduce((function(n,t){return t.concat(n)}),[]).filter((function(n){return 0!==n.tileId}))}))}),h=new c.b({width:1280,height:720,antialias:!1,transparent:!1,resolution:1}),u=c.f.shared,l=[],f=function(n){var t={id:n.id,uri:n.uri,onLoad:n.onLoad,onLoadParams:n.onLoadParams};l.push(t)},m=new c.c,p=new c.c,w=new c.c,g=new c.c;h.stage.addChild(m),m.addChild(p,w,g),fetch("/js-game-poc/assets/map/demo.json").then((function(n){return n.json()})).then((function(n){var t=s(n);Object(d.forEach)(n.tilesets,(function(n,a){var e=n.source.substring(2);f({id:e,uri:"".concat("/js-game-poc","/assets/").concat(e),onLoad:function(n){Object(d.forEach)(t,(function(n,t){n.forEach((function(n){var a=c.d.shared.resources[e],o=new c.e(a.textures["tile".concat(String(n.tileId-1).padStart(3,"0"),".png")]);o.x=n.x,o.y=n.y,t<=1?p.addChild(o):g.addChild(o)}))}))},onLoadParams:{tileset:n}})}))})),u.add((function(){if(!c.d.shared.loading&&l.length>0){var n=l.shift();c.d.shared.add(n.id,n.uri).load((function(){return n.onLoad(n.onLoadParams)}))}})),f({id:"walk",uri:"/js-game-poc/assets/sprites/walk/walk.json",onLoad:function(){var n=c.d.shared.resources.walk.spritesheet;w.sortableChildren=!0;var t=[new c.a(n.animations.down),new c.a(n.animations.left),new c.a(n.animations.up),new c.a(n.animations.right),new c.a(n.animations.down),new c.a(n.animations.left),new c.a(n.animations.up),new c.a(n.animations.right)];Object(d.forEach)(t,(function(n){n.animationSpeed=.167,n.y=666*Math.random(),n.x=1e3*Math.random(),n.play(),n.vx=6*Math.random()+1,n.vy=6*Math.random()+1})),w.addChild.apply(w,t),u.add((function(n){Object(d.forEach)(t,(function(n){(n.x>=2256||n.x<=0)&&(n.vx=(n.x>=1232?-1:1)*(6*Math.random()+2)),(n.y>=2256||n.y<=0)&&(n.vy=(n.y>=672?-1:1)*(6*Math.random()+2)),n.y+=n.vy,n.x+=n.vx,n.zIndex=n.y})),m.pivot.x=Math.floor(t[0].position.x),m.pivot.y=Math.floor(t[0].position.y),m.position.x=Math.floor(640),m.position.y=Math.floor(360)}))}});var v=function(){return Object(e.useEffect)((function(){document.getElementById("canvas").appendChild(h.view)}),[]),o.a.createElement("div",{id:"canvas",className:"App"})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.803caddf.chunk.js.map